---
import dayjs from 'dayjs';
import localizedFormat from 'dayjs/plugin/localizedFormat';
import 'dayjs/locale/de';

dayjs.locale('de-DE');
dayjs.extend(localizedFormat);

import Layout from '../layouts/default.layout.astro';
import Events from '../components/events.component.astro';
import Event from '../components/event.component.astro';
import Nav from '../components/nav.component.astro';

const meetups = await Astro.glob('./events/*-meetup.md');
---

<Layout lang="de" title="Veranstaltungen">
  <Nav slot="header" />

  <input type="search" />

  <Events>
    {
      meetups
        .sort((a, b) => b.frontmatter.date.localeCompare(a.frontmatter.date))
        .map((event) => <Event event={event} />)
    }
  </Events>
</Layout>
